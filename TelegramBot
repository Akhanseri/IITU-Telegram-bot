import telebot
from telebot import types

bot = telebot.TeleBot('Your bot')

count = 0


@bot.message_handler(commands=['start'])
def start(message):
    markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
    item1 = types.KeyboardButton('Для абитурентов')
    item2 = types.KeyboardButton('Для студентов')


    markup.add(item1, item2)

    bot.send_message(message.chat.id, f'Привет {message.from_user.first_name}', reply_markup=markup)


@bot.message_handler(content_types=['text'])
def bot_message(message):

    if message.text == 'Для студентов':
        markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
        item2 = types.KeyboardButton('Расчитать GPA')
        item3 = types.KeyboardButton('сколько нужно набрать баллов на файнале?')
        item4 = types.KeyboardButton('кто автор?')
        item5 = types.KeyboardButton('Контакты')
        item1 = types.KeyboardButton('Назад')
        markup.add(item2, item3,item4,item5,item1)
        bot.send_message(message.chat.id, 'Для студентов', reply_markup=markup)
    elif message.text == 'Для абитурентов':
        markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
        item1 = types.KeyboardButton('F.A.Q')
        item3 = types.KeyboardButton('Проходные баллы 2021')
        item2 = types.KeyboardButton('Список документов')
        item5 = types.KeyboardButton('Экзамены')
        item6 = types.KeyboardButton('Назад')
        markup.add(item1,item2,item3,item5,item6)
        bot.send_message(message.chat.id,'Для абитурентов',reply_markup=markup)

    elif message.text == 'F.A.Q':
        bot.send_message(message.chat.id, '''
        Важные даты для абитуриентов

1)Вопрос: Как можно связаться с Приёмной комиссии?
Ответ: 1) Бакалавриат : 8(727)732-00-00  8(727)732-00-01
2)Магистратура-докторантура : 8(727)244-51-12
3) Виртуальная приемная комиссия : https://us06web.zoom.us/j/83980598105?pwd=VE5zaUhmSXlQY0Z6MTlGUXRmWTJjUT09

2)Вопрос: Какие образовательные программы есть ?
Ответ: 1) B044 Менеджмент и управление
2) B042 Журналистика и репортерское дело
3) B057 Информационные технологии
4) B058 Информационная безопасность
5) B059 Коммуникации и коммуникационные технологии
6) В046 Финансы, экономика, банковское и страховое дело

3)Вопрос: Пороговые балл ЕНТ для подачи заявления на ГОС грант?
Ответ: 1) Журналистика и репортерское дело - 60 балл
2) Менеджмент и управление - 60 балл
3) Финансы, экономика, банковское и страховое дело - 60 балл
4) Информационные технологии - 80 балл
5) Информационная безопасность - 80 балл
6) Коммуникации и коммуникационные технологии - 80 балл

4)Вопрос: Пороговые балл ЕНТ для подачи заявления на платное отделение?
Ответ: 1) Журналистика и репортерское дело - 50 балл
2) Менеджмент и управление - 50 балл
3) Финансы, экономика, банковское и страховое дело - 50 балл
4) Информационные технологии - 50 балл
5) Информационная безопасность - 50 балл
6) Коммуникации и коммуникационные технологии - 50 балл

5)Вопрос: Перечень необходимых документов для поступления
1. Аттестат/диплом с приложением (оригинал)
2. Сертификат ЕНТ (эл.документ. с сайта certificate.testcenter.kz)
3. 2 копии удостоверения личности
4. 8 фото 3х4 (каждое фото подписать с обратной стороны)
5. Мед. справка 075/У (со снимком флюорографии сроком не более 12 месяцев на дату зачисления 20.08.2021)
6. Карта профилактических прививок (форма 063/У) - находится в Паспорте здоровья ребенка
7. Копия приписного свидетельства (для юношей)
8. Копия грамот и дипломов за последние три года (призовые места в значимых мероприятиях), сертификатов (IELTS 5.0+, TOEFL 35+)

6)Вопрос: Минимальные требования для поступления в АО МУИТ
Ответ: В АО МУИТ принимаются лица, имеющие общее среднее образование, техническое и профессиональное, послесреднее, высшее образование по результатам Единого национального тестирования (ЕНТ) и дополнительных экзаменов по специальности и английскому языку.

Поступающим в АО МУИТ на платное обучение и желающим участвовать в конкурсе на присуждение образовательного гранта (на специальности B059(Коммуникации и коммуникационные технологии) и B042(Журналистика)) необходимо набрать по результатам ЕНТ не менее 50 баллов, в том числе не менее 5-ти баллов – по истории Казахстана, математической грамотности, грамотности чтения – язык обучения, и не менее 5-ти баллов по каждому профильному предмету, а также необходимо набрать не менее 50 процентов по каждому дополнительному экзамену (по специальности и английскому языку)

Желающим участвовать в конкурсе на присуждение образовательного гранта (помимо B059(Коммуникации и коммуникационные технологии) и B042(Журналистика)) высшего образования за счет средств республиканского бюджета необходимо набрать по результатам ЕНТ не менее 80 баллов, в том числе не менее 5-ти баллов – по истории Казахстана, математической грамотности, грамотности чтения – язык обучения, и не менее 5-ти баллов по каждому профильному предмету, а также необходимо набрать не менее 50 процентов по каждому дополнительному экзамену (по специальности и английскому языку).

Поступающим по группе образовательных программ В042 – Журналистика и репортерское дело, требующей творческой подготовки, прошедшим ЕНТ и желающим участвовать в конкурсе на присуждение образовательного гранта высшего образования за счет средств республиканского бюджета и (или) зачислиться на платное обучение необходимо набрать по результатам ЕНТ и творческих экзаменов не менее 60 баллов, в том числе не менее 5-ти баллов – по истории Казахстана, грамотности чтения – язык обучения, и не менее 5-ти баллов по каждому творческому экзамену.''')
        bot.send_message(message.chat.id, '''Лицам, имеющим техническое и профессиональное, послесреднее образование поступающим по родственным направлениям подготовки кадров высшего образования, предусматривающих сокращенные сроки обучения (3- года обучения), желающим поступать на платное обучение необходимо набрать не менее 50 процентов по каждому дополнительному экзамену (по специальности и английскому языку)

Лицам, имеющим высшее образование, предусматривающих сокращенные сроки обучения (2-года обучения), желающим поступать на платное обучение необходимо набрать не менее 50 процентов по каждому дополнительному экзамену (по специальности и английскому языку)

7.Вопрос: Профильные предметы ЕНТ
Ответ: 1) Журналистика и репортерское дело: Творческий экзамен
2) Менеджмент и управление: Математика - География
3) Финансы, экономика, банковское и страховое дело: Математика - География
4) Информационные технологии: Математика - Физика
5) Информационная безопасность: Математика - Физика
6) Коммуникации и коммуникационные технологии: Математика - Физика

8.Вопрос: Важные даты для абитуриента:
Ответ: 1) Виртуальная приемная комиссия (консультация) : с 10.05.2022 по 25.08.2022
2) Консультация и прием документов : 1.06.2022-25.08.2022
3) Творческие экзамены: Приема заявлений и документов: 20 июня – 7 июля , Проведения: I тур : 8 июля в 9:00 , II тур : 11 июля в 9:00.
4) Прием заявление для участия в конкурсе государственных образовательных грантов: 13-20 июля
5) Зачисление поступающих в число студентов в университет: с 10 по 25 августа
6) 01.06 - 13.07 сдача вступительных экзаменов по информатике и по английскому языку для поступающих на государственный грант.
7)01.06 - 20.08 сдача вступительных экзаменов по информатике и по английскому языку для поступающих на платное обучение .

9.Вопрос: Программа проведения творческих экзаменов
Ответ: https://iitu.edu.kz/documents/2376/%D1%80%D1%83%D1%81%D1%81_%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B0_%D0%BF%D1%80%D0%BE%D0%B2_%D1%82%D0%B2%D0%BE%D1%80%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D1%85_%D1%8D%D0%BA%D0%B7%D0%B0%D0%BC%D0%B5%D0%BD%D0%BE%D0%B2_1_2.pdf

10.Вопрос: Проходные баллы 2021г.
Ответ: 1) Журналистика и репортерское дело: 123 балл
2) Менеджмент и управление: Математика - 120 балл
3) Финансы, экономика, банковское и страховое дело: 116 балл
4) Информационные технологии: Математика - 106 балл
5) Информационная безопасность: Математика - 81 балл
6) Коммуникации и коммуникационные технологии: Математика - 80 балл''')
        file = open('Information.docx', 'rb')
        bot.send_document(message.chat.id, file)
    elif message.text == 'Проходные баллы 2021':
        file = open('grants.png', 'rb')
        bot.send_document(message.chat.id, file)
    elif message.text == 'Экзамены':
        file = open('exams.png', 'rb')
        bot.send_message(message.chat.id,
        '''
Если вы хотите сдать экзамен по информатике онлайн, то подпишитесь по этой ссылке.

https://docs.google.com/forms/d/e/1FAIpQLSd8yLnFtJrQRlTNmeEw8zvmQzsIRK6t9VYd2_PQU75FdEFUpQ/viewform''')
        bot.send_document(message.chat.id, file)

    elif message.text == 'Список документов':
        bot.send_message(message.chat.id, '''Список необходимых документов для поступления в наш университет.

1️⃣Аттестат/диплом с приложением (оригинал).
2️⃣Сертификат ЕНТ (распечатанный с сайта certificate.testcenter.kz)
4️⃣Две копии удостоверения личности,  Фото 3х4 - 8шт. (каждое фото подписать с обратной стороны - Фамилия И.О.)
5️⃣Мед. справка 075/У (со снимком флюорографии сроком не более 12 месяцев на дату зачисления 20.08.2022)
6️⃣Карта профилактических прививок (форма 063/ У)- находится в Паспорте здоровья ребенка
7️⃣Копия приписного свидетельства из военкомата (для юношей)
8️⃣При отношении к соц. квотам, справки из ЦОН или акимата, подтверждающие отношение к квотам (сироты, инвалиды, многодетные семьи, неполные семьи и т.д.) Копия грамот и дипломов за последние два года (призовые места в значимых мероприятиях от Дарын), сертификатов (IELTS 5.0+, TOEFL 35+)

⏺при наличии сертификата IELTS/TOEFL, оригинал иметь при себе.''')
    elif message.text == 'кто автор?':
        bot.send_message(message.chat.id, 'Автор:Ali')
    elif message.text == 'Расчитать GPA':
        bot.send_message(message.chat.id, 'Впишите ваши оценки в таком формате ([оценка в %] [кол-во кредитов])')
        bot.register_next_step_handler_by_chat_id(message.chat.id, gpa_counter)
    elif message.text == 'сколько нужно набрать баллов на файнале?':
        bot.send_message(message.chat.id, 'Напишите ваш РКсрд')
        bot.register_next_step_handler_by_chat_id(message.chat.id, rksrd)
    elif message.text == 'Контакты':
        bot.send_message(message.chat.id, 'Список  номеров IITU.')
        bot.send_message(message.chat.id, '1)Call center: +7(727)-320-00-00, +7(727)-320-00-01')
        bot.send_message(message.chat.id, '2)Деканат ФКТК: +7(727)-244-83-71')
        bot.send_message(message.chat.id, '3)Студ. Декан ФКТК : 87081136106 (Айбек Маратұлы)')
        bot.send_message(message.chat.id, '4)Деканат ФЦТ: +7(727)-244-51-08')
        bot.send_message(message.chat.id, '5)Студ. Декан ФЦТ : 8 (771) 571-41-80 (Айнур Файзуллаева) ')
        bot.send_message(message.chat.id, '6)Военная кафедра: +7(727)-244-51-05')
        bot.send_message(message.chat.id, '7)По вопросам оплаты обучения студентов: +7(727)-330-85-65 ')
        bot.send_message(message.chat.id, '8)Департамент по академическим вопросам: +7(727)-330-85-67 ')
        bot.send_message(message.chat.id, '9)Департамент послевузовского образования: +7(727)-330-85-63 ')
        bot.send_message(message.chat.id, '10)Центр карьеры: +7(747)-750-34-74 ')
        bot.send_message(message.chat.id, '11)Библиотека: +7(727)-330-85-69')
        bot.send_message(message.chat.id, '12)Медпункт: +7(727)-244-51-22')

    elif message.text == 'Назад':
        markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
        item1 = types.KeyboardButton('Для абитурентов')
        item2 = types.KeyboardButton('Для студентов')


        markup.add(item1, item2)

        bot.send_message(message.chat.id, 'Назад', reply_markup=markup)




    else:
        bot.send_message(message.chat.id, 'Неправильная команда')



def rksrd(message):
    if message.text.isnumeric():
        rksredniy=float(message.text)
        rk=(((rksredniy*0.6)-70)/-40)*100
        bot.send_message(message.chat.id, f'Для стипендии вам нужно набрать: <b>{int(rk/1)}</b>',parse_mode='html')
    else:
        bot.send_message(message.chat.id, 'Неправильные данные')





def gpa_counter(message,*args,**kwargs):

    s=list(message.text.split())
    n=len(s)
    ali=0
    credit_sum=0
    gpa_sum=0
    for i in range(n):
        if s[i].isnumeric():
            ali+=1

    if ali!=n or n%2==1:
            bot.send_message(message.chat.id, 'Неправильный ввод')
    else:
            s = list(map(int, message.text.split()))
            n = len(s)
            for i in range(n):
                if i%2==1:
                    credit_sum+=s[i]
                else:

                    if 54 >= s[i] >= 50:
                        s[i] = 1*s[i+1]
                        gpa_sum+=s[i]

                    elif 59 >= s[i] >= 55:
                        s[i] = 1.33*s[i+1]
                        gpa_sum+=s[i]

                    elif 64 >= s[i] >= 60:
                        s[i] = 1.67*s[i+1]
                        gpa_sum+=s[i]

                    elif 69 >= s[i] >= 65:
                        s[i] = 2*s[i+1]
                        gpa_sum+=s[i]

                    elif 74 >= s[i] >= 70:
                        s[i] = 2.33*s[i+1]
                        gpa_sum+=s[i]

                    elif 79 >= s[i] >= 75:
                        s[i] = 2.67*s[i+1]
                        gpa_sum+=s[i]

                    elif 84 >= s[i] >= 80:
                        s[i] = 3*s[i+1]
                        gpa_sum+=s[i]

                    elif 89 >= s[i] >= 85:
                        s[i] = 3.33*s[i+1]
                        gpa_sum+=s[i]

                    elif 94 >= s[i] >= 90:
                        s[i] = 3.67*s[i+1]
                        gpa_sum+=s[i]

                    elif 100 >= s[i] >= 95:
                        s[i] = 4.0*s[i+1]
                        gpa_sum+=s[i]

                    else:
                        bot.send_message(message.chat.id, 'Невозможно')

            gpa = gpa_sum/credit_sum

            bot.send_message(message.chat.id, f'Ваш GPA {round(gpa,2)}')










bot.polling(none_stop=True)
